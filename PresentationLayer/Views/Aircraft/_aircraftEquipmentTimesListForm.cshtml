@using DataModels.Models;
@model ViewModels.VM.AirCraftVM
@{
    Layout = null;
    int noofEngine = Model.NoofEngines;
    Model.AircraftEquipmentTimesList = new List<AircraftEquipmentTime>();

    for (int index_noofEngine = 0; index_noofEngine < noofEngine; index_noofEngine++)
    {
        Model.AircraftEquipmentTimesList.Add(new AircraftEquipmentTime
        {
            EquipmentName = "Engine " + (index_noofEngine + 1)
        });
    }
    int noofPropellers = Model.NoOfPropellers;
    for (int index_noofPropellers = noofEngine; index_noofPropellers < noofPropellers + noofEngine; index_noofPropellers++)
    {
        Model.AircraftEquipmentTimesList.Add(new AircraftEquipmentTime
        {
            EquipmentName = "Propeller " + (index_noofPropellers + 1 - noofEngine)
        });
    }
    int airFrameId = noofPropellers + noofEngine;
    Model.AircraftEquipmentTimesList.Add(new AircraftEquipmentTime
    {
        EquipmentName = "Air Frame"
    });
}
@Html.HiddenFor(m => m.AircraftEquipmentTimesList[airFrameId].Id)
@Html.HiddenFor(m => m.AircraftEquipmentTimesList[airFrameId].AircraftId)

<div class="col-6">
    <div class="form-group">
        @Html.LabelFor(m => m.AircraftEquipmentTimesList[airFrameId].EquipmentName, "Air Frame", new { htmlAttributes = new { @class = "control-label" } })
        @Html.EditorFor(m => m.AircraftEquipmentTimesList[airFrameId].EquipmentName, new { htmlAttributes = new { placeholder = "Air Frame", @class = "form-control", @required = "required" } })
        @Html.ValidationMessageFor(m => m.AircraftEquipmentTimesList[airFrameId].EquipmentName)
    </div>
</div>
<div class="col-6">
    <div class="form-group">
        @Html.LabelFor(m => m.AircraftEquipmentTimesList[airFrameId].Hours, new { htmlAttributes = new { @class = "control-label" } })
        @Html.EditorFor(m => m.AircraftEquipmentTimesList[airFrameId].Hours, new { htmlAttributes = new { @class = "form-control", @required = "required" } })
        @Html.ValidationMessageFor(m => m.AircraftEquipmentTimesList[airFrameId].Hours)
    </div>
</div>
<div class="col-12">
    <hr />
</div>
@for (int i = 0; i < noofEngine; i++)
{
    @Html.HiddenFor(m => m.AircraftEquipmentTimesList[i].Id)
    @Html.HiddenFor(m => m.AircraftEquipmentTimesList[i].AircraftId)

    <div class="col-6">
        <div class="form-group">
            @Html.LabelFor(m => m.AircraftEquipmentTimesList[i].EquipmentName, "Engine " + (i + 1), new { htmlAttributes = new { @class = "control-label" } })
            @Html.EditorFor(m => m.AircraftEquipmentTimesList[i].EquipmentName, new { htmlAttributes = new { placeholder = "Enter Equipment Name " + (i + 1), @class = "form-control", @required = "required" } })
            @Html.ValidationMessageFor(m => m.AircraftEquipmentTimesList[i].EquipmentName)
        </div>
    </div>
    <div class="col-6">
        <div class="form-group">
            @Html.LabelFor(m => m.AircraftEquipmentTimesList[i].Hours, new { htmlAttributes = new { @class = "control-label" } })
            @Html.EditorFor(m => m.AircraftEquipmentTimesList[i].Hours, new { htmlAttributes = new { @class = "form-control", @required = "required" } })
            @Html.ValidationMessageFor(m => m.AircraftEquipmentTimesList[i].Hours)
        </div>
    </div>
}
@if (noofPropellers > 0)
{
    <div class="col-12">
        <hr />
    </div>
}
@for (int i = noofEngine; i < (noofPropellers + noofEngine); i++)
{
    @Html.HiddenFor(m => m.AircraftEquipmentTimesList[i].Id)
    @Html.HiddenFor(m => m.AircraftEquipmentTimesList[i].AircraftId)

    <div class="col-6">
        <div class="form-group">
            @Html.LabelFor(m => m.AircraftEquipmentTimesList[i].EquipmentName, "Propeller " + (i + 1 - noofEngine), new { htmlAttributes = new { @class = "control-label" } })
            @Html.EditorFor(m => m.AircraftEquipmentTimesList[i].EquipmentName, new { htmlAttributes = new { placeholder = "Enter Equipment Name " + (i + 1 - noofEngine), @class = "form-control", @required = "required" } })
            @Html.ValidationMessageFor(m => m.AircraftEquipmentTimesList[i].EquipmentName)
        </div>
    </div>
    <div class="col-6">
        <div class="form-group">
            @Html.LabelFor(m => m.AircraftEquipmentTimesList[i].Hours, new { htmlAttributes = new { @class = "control-label" } })
            @Html.EditorFor(m => m.AircraftEquipmentTimesList[i].Hours, new { htmlAttributes = new { @class = "form-control", @required = "required" } })
            @Html.ValidationMessageFor(m => m.AircraftEquipmentTimesList[i].Hours)
        </div>
    </div>
}